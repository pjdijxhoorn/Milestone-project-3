{% extends "base.html" %}
{% block content %}
<h1 class="text-center">Edit recipe</h1>


<form class="row g-3" method="POST" action="{{ url_for('editRecipe', recipe_id=recipe._id) }}">

    <!--input Recipe Name-->
    <div class="col-md-6">
        <label for="Name_dish" class="form-label">Recipe Name:</label>
        <input type="text" class="form-control" id="Name_dish" name="Name_dish" value="{{recipe.Name_dish}}" required>
    </div>

    <!--input select category-->
    <div class="col-md-6">
        <label for="category_name" class="form-label">What kind of dish is it?</label>
        <select id="category_name" name="category_name" class="form-select" required>
            <option value="" disabled>Choose the sort of dish</option>
            {% for category in categories %}
            {%if category.category_name == recipe.category_name%}
            <option value="{{ category.category_name }}" selected>{{ category.category_name }}</option>
            {% else %}
            <option value="{{ category.category_name }}">{{ category.category_name }}</option>
            {% endif %}
            {% endfor %}
        </select>
    </div>

    <!--input Recipe preperation time-->
    <div class="col-md-6">
        <label for="preperation_time" class="form-label">How long does it take to prepare?:</label>
        <input type="text" class="form-control" id="preperation_time" name="preperation_time" value="{{recipe.preperation_time}}" required>
    </div>

    <!--input photo link-->
    <div class="col-md-6">
        <label for="Photo_link" class="form-label">photo link </label>
        <input type="text" class="form-control" id="Photo_link" name="Photo_link" value="{{recipe.Photo_link}}">
    </div>

    <!--input Recipe ingredients-->
    <label for="ingredients" class="form-label">what Ingredients do you need?</label>
    <div class="input-group">
        <textarea id="ingredients" class="form-control" aria-label="With textarea" name="ingredients" required>{{-recipe.ingredients-}}</textarea>
    </div>

    <!--input explanation-->
    <label for="explanation" class="form-label">what are the steps to create your masterpiece?</label>
    <div class="input-group">
        <textarea id="explanation" class="form-control" aria-label="With textarea" name="explanation" required>{{-recipe.explanation-}}</textarea>
    </div>

    <!--input Other_requirments-->
    <label for="Other_requirments" class="form-label">what else do you need?</label>
    <div class="input-group">
        <textarea id="Other_requirments" class="form-control" aria-label="With textarea" name="Other_requirments" required>{{-recipe.Other_requirments-}}</textarea>
    </div>

    <!--input add button-->
    <div class="col-12">
        <a href="{{ url_for('profile', username=session['user']) }}" class="btn submit-btn">Cancel <i class="fas fa-times-circle right"></i></a>

        <button type="submit" class="btn submit-btn">Edit recipe <i class="far fa-edit"></i></button>
    </div>
</form>

<script>
    document.getElementById("navMenu").style.display = "none";

    document.getElementById("nav-btn").addEventListener("click", navBarToggle);

    function navBarToggle() {
        var x = document.getElementById("navMenu");
        if (x.style.display === "none") {
            x.style.display = "block";
        } else {
            x.style.display = "none";
        }
    }
</script>

{% endblock %}